<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>배움은 설렘이다 – Helloworld 예제</title><link>https://hhko.github.io/learned/dapr/helloworld/</link><description>Recent content in Helloworld 예제 on 배움은 설렘이다</description><generator>Hugo -- gohugo.io</generator><language>ko-KR</language><atom:link href="https://hhko.github.io/learned/dapr/helloworld/index.xml" rel="self" type="application/rss+xml"/><item><title>Learned: State</title><link>https://hhko.github.io/learned/dapr/helloworld/state/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hhko.github.io/learned/dapr/helloworld/state/</guid><description/></item><item><title>Learned: WebAPI</title><link>https://hhko.github.io/learned/dapr/helloworld/webapi/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hhko.github.io/learned/dapr/helloworld/webapi/</guid><description/></item><item><title>Learned: Secrets Component</title><link>https://hhko.github.io/learned/dapr/helloworld/component/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hhko.github.io/learned/dapr/helloworld/component/</guid><description>
&lt;h2 id="명령어-요약">명령어 요약&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#75715e"># Secrets 파일 생성 : mysecrets.json&lt;/span>
&lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#e6db74">&amp;#34;my-secret&amp;#34;&lt;/span> : &lt;span style="color:#e6db74">&amp;#34;I&amp;#39;m Batman&amp;#34;&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#75715e"># Component 폴더 생성 : my-components &lt;/span>
mkdir my-components
&lt;span style="color:#75715e"># Component 설정 파일 : localSecretStore.yaml&lt;/span>
apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
name: my-secret-store
namespace: default
spec:
type: secretstores.local.file &lt;span style="color:#75715e"># secrets 로컬 파일 설정&lt;/span>
version: v1
metadata:
- name: secretsFile
value: ./mysecrets.json &lt;span style="color:#75715e"># secrets 파일 지정 &lt;/span>
- name: nestedSeparator
value: &lt;span style="color:#e6db74">&amp;#34;:&amp;#34;&lt;/span>
&lt;span style="color:#75715e"># Dapr 실행&lt;/span>
dapr run --app-id myapp --dapr-http-port &lt;span style="color:#ae81ff">3500&lt;/span> --components-path ./my-components
&lt;span style="color:#75715e"># Secrets 값 읽기&lt;/span>
curl http://localhost:3500/v1.0/secrets/my-secret-store/my-secret
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secret-파일-생성">Secret 파일 생성&lt;/h2>
&lt;ul>
&lt;li>&lt;code>mysecrets.json&lt;/code> 파일
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">{
&lt;span style="color:#f92672">&amp;#34;my-secret&amp;#34;&lt;/span> : &lt;span style="color:#e6db74">&amp;#34;I&amp;#39;m Batman&amp;#34;&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h1 id="component-생성">Component 생성&lt;/h1>
&lt;ul>
&lt;li>Component 폴더
&lt;ul>
&lt;li>&lt;code>mkdir my-components&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Component 설정 파일
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">dapr.io/v1alpha1&lt;/span>
&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">Component&lt;/span>
&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">my-secret-store&lt;/span>
&lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">default&lt;/span>
&lt;span style="color:#f92672">spec&lt;/span>:
&lt;span style="color:#f92672">type&lt;/span>: &lt;span style="color:#ae81ff">secretstores.local.file&lt;/span>
&lt;span style="color:#f92672">version&lt;/span>: &lt;span style="color:#ae81ff">v1&lt;/span>
&lt;span style="color:#f92672">metadata&lt;/span>:
- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">secretsFile&lt;/span>
&lt;span style="color:#f92672">value&lt;/span>: &lt;span style="color:#ae81ff">./mysecrets.json&lt;/span>
- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">nestedSeparator&lt;/span>
&lt;span style="color:#f92672">value&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;:&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>secretstores.local.file&lt;/code>
&lt;ul>
&lt;li>&lt;code>secrets&lt;/code> 지정&lt;/li>
&lt;li>&lt;code>./mysecrets.json&lt;/code> : &lt;code>.&lt;/code> 경로는 dapr run 위치이다.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="dapr-sidecar-실행">Dapr sidecar 실행&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">dapr run --app-id myapp --dapr-http-port &lt;span style="color:#ae81ff">3500&lt;/span> --components-path ./my-components
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>--components-path&lt;/code> : ./my-components&lt;/li>
&lt;li>&lt;code>.&lt;/code> : &lt;code>dapr run&lt;/code>을 실행한 현재 경로이다.&lt;/li>
&lt;/ul>
&lt;h2 id="secret-값-읽기">Secret 값 읽기&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl http://localhost:3500/v1.0/secrets/my-secret-store/my-secret
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>my-secret-store&lt;/li>
&lt;li>my-secret : json 파일 데이터 키&lt;/li>
&lt;/ul></description></item></channel></rss>